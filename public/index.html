<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>frontend of the astquery</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
<div class="container">
    <p class="title">Regexp</p>
    <p><input type="text" id="condition" autocomplete="on"></p>
    <p class="title">Package</p>
    <p><input type="text" id="packName" autocomplete="on"></p>
    <button onClick="pushBtn('condition', 'packName');" id="runButton">Run</button>
    <p class="title reset-parent">Result <span class="reset" id="resetBtn" onClick="resetBtn('condition', 'packName')">reset</span></p>
    <div class="wrapper">
        <div id="sentences">
            <p id="prefix"> ~ $</p>
            <div id="terminal"></div>
        </div>
    </div>
</div>


<script src="wasm_exec.js"></script>
<script>
    if (!WebAssembly.instantiateStreaming) {
        WebAssembly.instantiateStreaming = async (resp, importObject) => {
            const source = await (await resp).arrayBuffer();
            return await WebAssembly.instantiate(source, importObject);
        };
    }

    (async () => {
        const go = new Go();
        const { instance } = await WebAssembly.instantiateStreaming(
            fetch('main.wasm'),
            go.importObject
        );
        await go.run(instance);
    })();
    async function run() {
        console.clear();
        await go.run(inst);
        inst = await WebAssembly.instantiate()
    }
</script>
</body>
</html>